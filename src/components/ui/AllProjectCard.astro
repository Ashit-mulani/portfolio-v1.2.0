---
import Avatar from "./Avatar.astro";
import Badge from "./Badge.astro";

const {
  image = "",
  avtar = "",
  name = "",
  title = "",
  description = "",
  path = "#",
  techStack = [],
} = Astro.props;
---

<div
  onclick={`window.location.href='${path}'`}
  class="flex flex-col gap-6 w-full border-b border-neutral-500/8 pb-6 group cursor-pointer"
>
  <div class="grid grid-cols-1 sm:grid-cols-3 items-center w-full gap-6">
    <div class="col-span-2">
      <div class="flex flex-col gap-4">
        <div class="flex items-center gap-2 text-sm">
          {
            avtar && (
              <Avatar src={avtar} alt={name ?? title ?? "avatar"} size={24} />
            )
          }
          {name && <h3 class="text-neutral-700">{name}</h3>}
        </div>
        <div class="flex flex-col gap-2">
          <h2
            class="group-hover:underline text-2xl leading-6 font-tilt font-medium tracking-tight text-neutral-800 line-clamp-2"
          >
            {title}
          </h2>
          <p class="text-neutral-500 leading-5 line-clamp-2">
            {description}
          </p>
        </div>
      </div>
    </div>
    <div class="col-span-1">
      {
        image && (
          <div class="w-full aspect-video overflow-hidden bg-neutral-50 border border-neutral-500/10">
            <img
              class="w-full h-full object-contain"
              fetchpriority="high"
              loading="eager"
              src={image}
              alt={title}
            />
          </div>
        )
      }
    </div>
  </div>
  <div class="grid grid-cols-3 items-start gap-4">
    <div class="col-span-1">
      <slot />
    </div>
    <div class="flex gap-2 flex-wrap justify-end col-span-2 p-1">
      {
        techStack &&
          techStack.length > 0 &&
          techStack.map((tech: { name: string; icon?: any }) => (
            <Badge>{tech.name}</Badge>
          ))
      }
    </div>
  </div>
</div>
